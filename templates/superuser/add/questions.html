{% extends 'superuser/layout.html' %}
{% load static %}
{% block main %}
<div class="container my-5">
    <div class="row shadow rounded p-3 g-3">
        <div class="col-12">
            <h3 class="text-center mb-2">Upload Questions File</h3>
            File must be csv and formatted as:
            {% if messages %}
            {% for message in messages %}
            <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">{{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}
            {% endif %}
        </div>
        <div class="col-12 col-md-6">
            <img src="{% static 'tests/images/guide.png' %}" alt="guide" class="img-fluid img-thumbnail w-100">
        </div>
        <div class="col-12 col-md-6 border rounded p-3">
            <form action="{% url 'superuser:upload-questions' %}" method="post" class="needs-validation" enctype="multipart/form-data" novalidate autocomplete="off">
                {% csrf_token %}
                <div class="mb-3">
                    <input type="file" name="file" class="form-control" id="file" placeholder="File" required>
                    <div class="valid-feedback">Looks good!</div>
                    <div class="invalid-feedback">Please select a csv file which contains your questions.</div>
                </div>
                <div class="form-floating mb-3">
                    <select class="form-select" required name="category" id="category" aria-label="Floating label select example">
                        <option value="">Please select a category.</option>
                        {% for category in categories %}
                        <option value="{{ category.get_cat_id }}">{{ category.get_cat_name|lower }}</option>
                        {% endfor %}
                    </select>
                    <label for="category">Category</label>
                    <div class="valid-feedback">Looks good!</div>
                    <div class="invalid-feedback">Please select a category.</div>
                </div>
                <button type="submit" class="btn btn-primary float-end">Upload</button>
            </form>
        </div>
    </div>
</div>
{% endblock main %}